!function(r){var t={};function e(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=r,e.c=t,e.d=function(r,t,s){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:s})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var o in r)e.d(s,o,function(t){return r[t]}.bind(null,o));return s},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="",e(e.s=6)}([function(r){r.exports={logs:{errorLog:"error_",infoLog:"info_"},hostnameSwagger:"localhost:3000",hostnameUrlDev:"http://localhost:3000",Errors:{department:{DEP_00:{status:400,code:"DEP_00",message:"Error in getting all departments",field:"none"},DEP_01:{status:500,code:"DEP_01",message:"ID is not a number",field:"department_id"},DEP_02:{status:404,code:"DEP_02",message:"Don'exist department with this ID",field:"department_id"}},category:{CAT_00:{status:400,code:"CAT_00",message:"Error in getting all Categories",field:"none"},CAT_01:{status:404,code:"CAT_01",message:"Don't exist category with this ID.",field:"category_id"}},attribute:{ATT_00:{status:400,code:"ATT_00",message:"Error in getting attributes",field:"none"},ATT_01:{status:404,code:"ATT_01",message:"Don't exist attribute with this ID.",field:"attribute_id"}},products:{PRO_00:{status:400,code:"PRO_00",message:"Error in getting products",field:"none"},PRO_01:{status:404,code:"PRO_01",message:"Don't exist attribute with this ID.",field:"attribute_id"}},Auth:{AUT_02:{status:401,code:"AUT_02",message:"Access Unauthorized",field:"API-KEY"},AUT_01:{status:401,code:"AUT_01",message:" Authorization code is empty",field:"API-KEY"}},orders:{ORD_00:{status:400,code:"ORD_00",message:"Error in getting Orders",field:"none"},ORD_01:{status:404,code:"ORD_01",message:"Don't exist order with this ID.",field:"order_id"}},tax:{TAX_00:{status:400,code:"TAX_00",message:"Error in getting Tax",field:"none"},TAX_01:{status:404,code:"TAX_01",message:"Don't exist Tax with this ID.",field:"tax_id"}},shipping:{SHP_00:{status:400,code:"SHP_00",message:"Error in getting Shipping Region details",field:"none"},SHP_01:{status:404,code:"SHP_01",message:"Don't exist Shipping region with this ID.",field:"shipping_region_id"}}}}},function(r,t){r.exports=require("express")},function(r,t,e){var s=e(19),o=t.Logger={},n=e(0),a=new Date,u=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+".log";const i=function(r){try{s.mkdirSync(r)}catch(r){if("EEXIST"!=r.code)throw r}};i("logs"),i("logs/"+a.getFullYear()),i("logs/"+a.getFullYear()+"/"+(a.getMonth()+1)),i("logs/"+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate());var c=s.createWriteStream("logs/"+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+"/"+n.logs.infoLog+u,{flags:"a"}),d=s.createWriteStream("logs/"+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+"/"+n.logs.errorLog+u,{flags:"a"});o.info=function(r){var t=(new Date).toString()+" : "+r+"\n";c.write(t)},o.error=function(r){var t=(new Date).toString()+" : "+r+"\n";d.write(t)}},function(r,t,e){const s=e(4),o=e(5),n=e(2).Logger,a=e(0);var u=s.createConnection({host:"sql3.freesqldatabase.com",user:"sql3295598",password:"2WE6Biqtbb",database:"sql3295598"});u.connect(function(r){if(r)return n.error("Error in SQL Database connection : "+r),console.log(o.red("Error Connecting to Database")),new Error(a.Errors.databaseError);console.log(o.green("Database Connected!"))}),u.on("error",console.error.bind(o.yellow("connection error..."))),r.exports=u},function(r,t){r.exports=require("mysql")},function(r,t){r.exports=require("chalk")},function(r,t,e){var s=e(7),o=e(37)("it-asset-management:server"),n=e(38),a=e(5),u=function(r){var t=parseInt(r,10);if(isNaN(t))return r;if(t>=0)return t;return!1}(process.env.PORT||"3000");s.set("port",u);var i=n.createServer(s);i.listen(u),i.on("error",function(r){if("listen"!==r.syscall)throw r;var t="string"==typeof u?"Pipe "+u:"Port "+u;switch(r.code){case"EACCES":console.error(t+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.error(t+" is already in use"),process.exit(1);break;default:throw r}}),i.on("listening",function(){var r=i.address();console.log(a.yellow("App started on port : "+r.port));var t="string"==typeof r?"pipe "+r:"port "+r.port;o("Listening on "+t)})},function(r,t,e){const s=e(8),o=e(1),n=(e(9),e(10)),a=e(11),u=e(12),i=e(13),c=e(14),d=e(15),g=e(16),l=o(),p=e(17),_=e(21),E=e(24),y=e(27),m=e(30),f=e(33),P=e(35),A=d(g);l.get("/swagger.json",function(r,t){t.setHeader("Content-Type","application/json"),t.send(A)}),l.use(n.urlencoded({extended:!1})),l.use(n.json()),l.use(o.json()),l.use(i()),l.use(a()),l.use(u()),l.use("/api-docs",c.serve,c.setup(A)),l.use("/departments",p),l.use("/categories",_),l.use("/attributes",E),l.use("/products",y),l.use("/orders",m),l.use("/shipping/regions",f),l.use("/tax",P),l.use(function(r,t,e){e(s(500))}),l.use(function(r,t,e,s){e.locals.message=r.message,e.locals.error="DEV"===t.app.get("env")?r:{},e.status(500),e.send({message:r.message})}),r.exports=l},function(r,t){r.exports=require("http-errors")},function(r,t){r.exports=require("path")},function(r,t){r.exports=require("body-parser")},function(r,t){r.exports=require("compression")},function(r,t){r.exports=require("helmet")},function(r,t){r.exports=require("cors")},function(r,t){r.exports=require("swagger-ui-express")},function(r,t){r.exports=require("swagger-jsdoc")},function(r,t,e){const s={swaggerDefinition:{info:{title:"Swagger API for eCommerce Website",version:"1.0.0",description:"Endpoints for turing eCommerce website"},host:e(0).hostnameSwagger,basePath:"/",securityDefinitions:{UserSecurity:{type:"apiKey",name:"User Key",scheme:"bearer",in:"header"}},schemes:["http"]},apis:["./routes/*.js"]};r.exports=s},function(r,t,e){const s=e(1).Router(),o=e(18);s.get("/",o.getAllDepartments),s.get("/:department_id",o.getSingleDepartment),r.exports=s},function(r,t,e){const s=e(3),o=e(2).Logger,n=e(0),a=e(20);r.exports={getAllDepartments:function(r,t,e){s.query(a.departmentsSP.getAllDepartments,function(r,e,s){r?(o.error("Error in get all departments controller : "+r),t.status(n.Errors.department.DEP_00.status).send(n.Errors.department.DEP_00)):t.status(200).send(e[0])})},getSingleDepartment:function(r,t,e){try{var u=new Number(r.params.department_id);NaN==u&&(o.error("Error in get one department controller : "+err),t.status(n.Errors.department.DEP_01.status).send(n.Errors.department.DEP_01))}catch(r){o.error("Error in get one department controller : "+err),t.status(n.Errors.department.DEP_01.status).send(n.Errors.department.DEP_01)}s.query(a.departmentsSP.getSingleDepartment+"("+u+")",function(r,e,s){r?(o.error("Error in get one department controller : "+r),t.status(n.Errors.department.DEP_00.status).send(n.Errors.department.DEP_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.department.DEP_02.status).send(n.Errors.department.DEP_02)})}}},function(r,t){r.exports=require("fs")},function(r,t){r.exports={departmentsSP:{getAllDepartments:"CALL catalog_get_departments",getSingleDepartment:"CALL catalog_get_department_details"}}},function(r,t,e){const s=e(1).Router(),o=e(22);s.get("/",o.getAllCategory),s.get("/:category_id",o.getSingleCategory),s.get("/inProduct/:product_id",o.getProductCategory),s.get("/inDepartment/:department_id",o.getDepartmentCategories),r.exports=s},function(r,t,e){const s=e(3),o=e(2).Logger,n=e(0),a=e(23),u=e(4);r.exports={getAllCategory:function(r,t,e){let a=0,i=10,c=0;var d="Select count(*) as count from ??";d=u.format(d,["category"]),s.query(d,function(e,d,g){if(e)o.error("Error in get all Category controller : "+e),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00);else{c=d[0].count,a=void 0===r.query.page?0:parseInt(r.query.page);var l="Select * from ?? ORDER BY category_id DESC limit ? OFFSET ?",p=["category",i=void 0===r.query.limit?20:parseInt(r.query.limit),a];l=u.format(l,p),s.query(l,function(r,e){r?(o.error("Error in get all Category controller : "+r),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00)):t.status(200).send({Count:c,rows:e})})}})},getSingleCategory:function(r,t,e){try{var u=new Number(r.params.category_id);NaN==u&&(o.error("Error in get one category controller : "+err),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00))}catch(r){o.error("Error in get one category controller : "+err),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00)}s.query(a.categorySP.getSingleCategory+"("+u+")",function(r,e,s){r?(o.error("Error in get one category controller : "+r),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.category.CAT_01.status).send(n.Errors.category.CAT_01)})},getProductCategory:function(r,t,e){try{var u=new Number(r.params.product_id);NaN==u&&(o.error("Error in get Product category controller : "+err),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00))}catch(r){o.error("Error in get product category controller : "+err),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00)}s.query(a.categorySP.getProductCategory+"("+u+")",function(r,e,s){r?(o.error("Error in get product category controller : "+r),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.category.CAT_01.status).send(n.Errors.category.CAT_01)})},getDepartmentCategories:function(r,t,e){try{var u=new Number(r.params.department_id);NaN==u&&(o.error("Error in get Department category controller : "+err),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00))}catch(r){o.error("Error in get Department category controller : "+err),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00)}s.query(a.categorySP.getDepartmentCategories+"("+u+")",function(r,e,s){r?(o.error("Error in get department category controller : "+r),t.status(n.Errors.category.CAT_00.status).send(n.Errors.category.CAT_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.category.CAT_01.status).send(n.Errors.category.CAT_01)})}}},function(r,t){r.exports={categorySP:{getAllCategories:"CALL catalog_get_categories",getSingleCategory:"CALL catalog_get_category_details",getProductCategory:"CALL catalog_get_categories_for_product",getDepartmentCategories:"CALL catalog_get_categories_list"}}},function(r,t,e){const s=e(1).Router(),o=e(25);s.get("/",o.getAllAttributes),s.get("/:attribute_id",o.getSingleAttribute),s.get("/values/:attribute_id",o.getValuesAttribute),s.get("/inProduct/:product_id",o.getAllAttributesWithProductID),r.exports=s},function(r,t,e){const s=e(3),o=e(2).Logger,n=e(0),a=e(26);e(4);r.exports={getAllAttributes:function(r,t,e){s.query(a.attributeSP.getAllAttributes,function(r,e,s){r?(o.error("Error in get all attributes controller : "+r),t.status(n.Errors.department.DEP_00.status).send(n.Errors.department.DEP_00)):t.status(200).send(e[0])})},getSingleAttribute:function(r,t,e){try{var u=new Number(r.params.attribute_id);NaN==u&&(o.error("Error in get one attribute controller : "+err),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00))}catch(r){o.error("Error in get one attribute controller : "+err),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00)}s.query(a.attributeSP.getSingleAttribute+"("+u+")",function(r,e,s){r?(o.error("Error in get one attribute controller : "+r),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.category.ATT_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.attribute.ATT_01.status).send(n.Errors.attribute.ATT_01)})},getValuesAttribute:function(r,t,e){try{var u=new Number(r.params.attribute_id);NaN==u&&(o.error("Error in get Values attribute controller : "+err),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00))}catch(r){o.error("Error in get Values attribute controller : "+err),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00)}s.query(a.attributeSP.getValuesAttribute+"("+u+")",function(r,e,s){r?(o.error("Error in get Values attribute controller : "+r),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.attribute.ATT_01.status).send(n.Errors.attribute.ATT_01)})},getAllAttributesWithProductID:function(r,t,e){try{var u=new Number(r.params.product_id);NaN==u&&(o.error("Error in get product attribute controller : "+err),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00))}catch(r){o.error("Error in get product attribute controller : "+err),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00)}s.query(a.attributeSP.getAttributesWithProductID+"("+u+")",function(r,e,s){r?(o.error("Error in get product attribute controller : "+r),t.status(n.Errors.attribute.ATT_00.status).send(n.Errors.attribute.ATT_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.attribute.ATT_01.status).send(n.Errors.attribute.ATT_01)})}}},function(r,t){r.exports={attributeSP:{getAllAttributes:"CALL catalog_get_attributes",getSingleAttribute:"CALL catalog_get_attribute_details",getValuesAttribute:"CALL catalog_get_attribute_values",getAttributesWithProductID:"CALL catalog_get_product_attributes"}}},function(r,t,e){const s=e(1).Router(),o=e(28);s.get("/",o.getAllProducts),s.get("/search",o.searchProducts),s.get("/:product_id",o.getProductByID),s.get("/inCategory/:category_id",o.getProductByCategory),s.get("/inDepartment/:department_id",o.getProductByDepartment),s.get("/:product_id/details",o.getProductDetails),s.get("/:product_id/locations",o.getProductLocations),s.get("/:product_id/reviews",o.getProductReviews),s.post("/:product_id/review",o.postProductReviews),r.exports=s},function(r,t,e){const s=e(3),o=e(2).Logger,n=e(0),a=e(29),u=e(4);r.exports={getAllProducts:function(r,t,e){let u=1,i=20,c=200,d=0;u=void 0===r.query.page?1:parseInt(r.query.page),i=void 0===r.query.limit?20:parseInt(r.query.limit),c=void 0===r.query.descLimit?200:parseInt(r.query.descLimit);var g=a.productsSP.getAllProducts+"("+c+","+i+","+u+")";s.query(g,function(r,e){r?(o.error("Error in get all products controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):(d=e[0].length,t.status(200).send({Count:d,rows:e[0]}))})},searchProducts:function(r,t,e){let a="%"+r.query.query_string+"%",i=1,c=20,d=0;i=void 0===r.query.page?0:parseInt(r.query.page),c=void 0===r.query.limit?20:parseInt(r.query.limit),void 0===r.query.descLimit?descLimit=200:descLimit=parseInt(r.query.descLimit);var g="SELECT * FROM product WHERE name LIKE ? ORDER BY ? DESC LIMIT ?",l=[a,i,c];g=u.format(g,l),s.query(g,function(r,e){r?(o.error("Error in search products controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):(d=e[0].length,t.status(200).send({Count:d,rows:e}))})},getProductByID:function(r,t,e){try{var u=new Number(r.params.product_id);NaN==u&&(o.error("Error in get one product controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01))}catch(r){o.error("Error in get one product controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)}s.query(a.productsSP.getSingleProduct+"("+u+")",function(r,e,s){r?(o.error("Error in get one product controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)})},getProductByCategory:function(r,t,e){let u=r.params.category_id,i=1,c=20,d=0;i=void 0===r.query.page?0:parseInt(r.query.page),c=void 0===r.query.limit?20:parseInt(r.query.limit),void 0===r.query.descLimit?descLimit=200:descLimit=parseInt(r.query.descLimit);var g=a.productsSP.getProductsByCategory+"("+u+","+descLimit+","+c+","+i+")";s.query(g,function(r,e){r?(o.error("Error in get products by category controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):(d=e[0].length,t.status(200).send({Count:d,rows:e}))})},getProductByDepartment:function(r,t,e){let u=r.params.department_id,i=1,c=20,d=0;i=void 0===r.query.page?0:parseInt(r.query.page),c=void 0===r.query.limit?20:parseInt(r.query.limit),void 0===r.query.descLimit?descLimit=200:descLimit=parseInt(r.query.descLimit);var g=a.productsSP.getProductsByDepartment+"("+u+","+descLimit+","+c+","+i+")";s.query(g,function(r,e){r?(o.error("Error in get products by department controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):(d=e[0].length,t.status(200).send({Count:d,rows:e}))})},getProductDetails:function(r,t,e){try{var u=new Number(r.params.product_id);NaN==u&&(o.error("Error in get product details controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01))}catch(r){o.error("Error in get product details controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)}s.query(a.productsSP.getProductDetails+"("+u+")",function(r,e,s){r?(o.error("Error in get product details controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)})},getProductLocations:function(r,t,e){try{var u=new Number(r.params.product_id);NaN==u&&(o.error("Error in get product locations controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01))}catch(r){o.error("Error in get product locations controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)}s.query(a.productsSP.getProductLocations+"("+u+")",function(r,e,s){r?(o.error("Error in get product locations controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)})},getProductReviews:function(r,t,e){try{var u=new Number(r.params.product_id);NaN==u&&(o.error("Error in get product reviews controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01))}catch(r){o.error("Error in get product reviews controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)}s.query(a.productsSP.getProductReviews+"("+u+")",function(r,e,s){r?(o.error("Error in get product reviews controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)})},postProductReviews:function(r,t,e){try{NaN==new Number(r.params.product_id)&&(o.error("Error in POST product reviews controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01))}catch(r){o.error("Error in post product reviews controller : "+err),t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)}try{let e="";e=r.user.customer_id;let u=r.body.review,i=r.body.rating;s.query(a.productsSP.postProductReview+"("+e+","+product_id+","+u+","+i+")",function(r,e,s){r?(o.error("Error in post product reviews controller : "+r),t.status(n.Errors.products.PRO_00.status).send(n.Errors.products.PRO_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.products.PRO_01.status).send(n.Errors.products.PRO_01)})}catch(r){o.error("Error, Unauthorized user : "+r),t.status(n.Errors.Auth.AUT_02.status).send(n.Errors.Auth.AUT_02)}}}},function(r,t){r.exports={productsSP:{getAllProducts:"CALL catalog_get_products_on_catalog",getSingleProduct:"CALL catalog_get_product_info",getProductsByCategory:"CALL catalog_get_products_in_category",getProductsByDepartment:"CALL catalog_get_products_on_department",getProductDetails:"CALL catalog_get_product_details",getProductLocations:"CALL catalog_get_product_locations",getProductReviews:"CALL catalog_get_product_reviews",postProductReview:"CALL catalog_create_product_review"}}},function(r,t,e){const s=e(1).Router(),o=e(31);s.post("/",o.postOrders),s.get("/:order_id/",o.getSingleOrder),s.get("/a/inCustomer",o.getCustomerOrder),s.get("/shortDetail/:order_id",o.getOrderInfo),r.exports=s},function(r,t,e){const s=e(3),o=e(2).Logger,n=e(0),a=e(32);e(4);r.exports={postOrders:function(r,t,e){try{let e="",u="",i=r.body.cart_id,c=r.body.shipping_id,d=r.body.tax_id;r.user?(e=r.user.customer_id,u=a.ordersSP.postOrder+"("+i+","+e+","+c+","+d+")",s.query(u,function(r,e,s){r?(o.error("Error in post order controller : "+r),t.status(n.Errors.orders.ORD_00.status).send(n.Errors.orders.ORD_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01)})):(o.error("Error in post order controller, unauthorized : "+err),t.status(n.Errors.Auth.AUT_02.status).send(n.Errors.Auth.AUT_02))}catch(r){o.error("Error, Unauthorized user : "+r),t.status(n.Errors.Auth.AUT_02.status).send(n.Errors.Auth.AUT_02)}},getSingleOrder:function(r,t,e){try{var u=new Number(r.params.order_id);NaN==u&&(o.error("Error in get one order controller : "+err),t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01))}catch(r){o.error("Error in get one order controller : "+err),t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01)}s.query(a.ordersSP.getSingleOrder+"("+u+")",function(r,e,s){r?(o.error("Error in get one order controller : "+r),t.status(n.Errors.orders.ORD_00.status).send(n.Errors.orders.ORD_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01)})},getCustomerOrder:function(r,t,e){try{var u="";if(r.user){u=new Number(r.user.customer_id);s.query(a.ordersSP.getCustomerOrder+"("+u+")",function(r,e,s){r?(o.error("Error in get customer order controller : "+r),t.status(n.Errors.orders.ORD_00.status).send(n.Errors.orders.ORD_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01)})}else o.error("Error in get customer order controller, unauthorized"),t.status(n.Errors.Auth.AUT_02.status).send(n.Errors.Auth.AUT_02)}catch(r){o.error("Error in get customer order controller : "+err),t.status(n.Errors.Auth.AUT_02.status).send(n.Errors.Auth.AUT_02)}},getOrderInfo:function(r,t,e){try{var u=new Number(r.params.order_id);NaN==u&&(o.error("Error in get order info controller : "+err),t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01))}catch(r){o.error("Error in get one order controller : "+err),t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01)}s.query(a.ordersSP.getOrderDetails+"("+u+")",function(r,e,s){r?(o.error("Error in get one order controller : "+r),t.status(n.Errors.orders.ORD_00.status).send(n.Errors.orders.ORD_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.orders.ORD_01.status).send(n.Errors.orders.ORD_01)})}}},function(r,t){r.exports={ordersSP:{postOrder:"CALL shopping_cart_create_order",getSingleOrder:"CALL orders_get_order_details",getCustomerOrder:"CALL orders_get_by_customer_id",getOrderDetails:"CALL orders_get_order_info"}}},function(r,t,e){const s=e(1).Router(),o=e(34);s.get("/",o.getAllShippingRegions),s.get("/:shipping_region_id",o.getSingleShippingRegion),r.exports=s},function(r,t,e){const s=e(3),o=e(2).Logger,n=e(0);r.exports={getAllShippingRegions:function(r,t,e){s.query("CALL customer_get_shipping_regions ()",function(r,e,s){r?(o.error("Error in get all shipping region controller : "+r),t.status(n.Errors.shipping.SHP_00.status).send(n.Errors.shipping.SHP_00)):t.status(200).send(e[0])})},getSingleShippingRegion:function(r,t,e){try{var a=new Number(r.params.shipping_region_id);NaN==a&&(o.error("Error in get one shipping region controller : "+err),t.status(n.Errors.shipping.SHP_01.status).send(n.Errors.shipping.SHP_01))}catch(r){o.error("Error in get one shipping region controller : "+err),t.status(n.Errors.shipping.SHP_01.status).send(n.Errors.shipping.SHP_01)}s.query("SELECT * FROM shipping_region where shipping_region_id = "+a,function(r,e,s){r?(o.error("Error in get one shipping region controller : "+r),t.status(n.Errors.shipping.SHP_00.status).send(n.Errors.shipping.SHP_00)):e[0].length>0?t.status(200).send(e[0]):t.status(n.Errors.shipping.SHP_01.status).send(n.Errors.shipping.SHP_01)})}}},function(r,t,e){const s=e(1).Router(),o=e(36);s.get("/",o.getAllTax),s.get("/:tax_id",o.getSingleTax),r.exports=s},function(r,t,e){const s=e(3),o=e(2).Logger,n=e(0);r.exports={getAllTax:function(r,t,e){s.query("SELECT * FROM tax",function(r,e,s){r?(o.error("Error in get all tax controller : "+r),t.status(n.Errors.tax.TAX_00.status).send(n.Errors.tax.TAX_00)):t.status(200).send(e[0])})},getSingleTax:function(r,t,e){try{var a=new Number(r.params.tax_id);NaN==a&&(o.error("Error in get one tax controller : "+err),t.status(n.Errors.tax.TAX_01.status).send(n.Errors.tax.TAX_01))}catch(r){o.error("Error in get one tax controller : "+err),t.status(n.Errors.tax.TAX_01.status).send(n.Errors.tax.TAX_01)}s.query("SELECT * FROM tax where tax_id = "+a,function(r,e,s){r?(o.error("Error in get one tax controller : "+r),t.status(n.Errors.tax.TAX_00.status).send(n.Errors.tax.TAX_00)):e[0]?t.status(200).send(e[0]):t.status(n.Errors.tax.TAX_01.status).send(n.Errors.tax.TAX_01)})}}},function(r,t){r.exports=require("debug")},function(r,t){r.exports=require("http")}]);